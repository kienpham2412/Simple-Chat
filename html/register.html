<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>

<body>
    <div class="container-fluid">
        <div class="row height-50-px"></div>
        <div class="row flex-box justify-center">
            <div class="col-md-4 padding-b-15 border-r-10 bg-light-sky form-group">
                <h1 class="center-text-align text-secondary">SIMPLE CHAT</h1>
                <div class="row">
                    <div class="col-md-8">
                        <input type="text" id="user_name" class="full-width form-control" name="user_name" placeholder="Enter a name to continue">
                    </div>
                    <div class="col-md-4">
                        <input type="button" id="enter" class="full-width btn btn-primary" value="Enter">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var userName;
        var serverIP = "http://" + location.host;

        $("#enter").click(function(){
            enterChatRoom();
        })

        $("#user_name").keypress(function(){
            if (event.keyCode == 13) {
                enterChatRoom();
            }
        })

        function enterChatRoom(){
            userName = $("#user_name").val();
            
            // $.ajax({
            //     url: serverIP + "/chatroom",
            //     type: "post",
            //     success: function(data){
                    
            //     }
            // })

            if(userName != ""){
                window.location.replace(serverIP + "/chatroom?username=" + userName);
            }
        }
    </script>
</body>